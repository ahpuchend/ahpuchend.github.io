<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AIdreamer</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ahpuchend.github.io/"/>
  <updated>2019-09-27T07:06:25.653Z</updated>
  <id>https://ahpuchend.github.io/</id>
  
  <author>
    <name>ahpudong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>第四周-字典练习题</title>
    <link href="https://ahpuchend.github.io/2019/09/27/%E7%AC%AC%E5%9B%9B%E5%91%A8-%E5%AD%97%E5%85%B8%E7%BB%83%E4%B9%A0%E9%A2%98/"/>
    <id>https://ahpuchend.github.io/2019/09/27/第四周-字典练习题/</id>
    <published>2019-09-27T06:57:11.000Z</published>
    <updated>2019-09-27T07:06:25.653Z</updated>
    
    <content type="html"><![CDATA[<p>题一：用字典创建一个平台的用户信息（包含用户名和密码）管理系统，新用户可以用与现有系统帐号不冲突的用户名创建帐号，已存在的老用户则可以用用户名和密码登陆重返系统。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">userdict = &#123;&apos;chendong&apos;: &apos;1234&apos;, &apos;chenjuan&apos;: &apos;5678&apos;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def newusers():</span><br><span class="line">    name = input(&apos;enter your name: &apos;)</span><br><span class="line">    if name in userdict.keys():</span><br><span class="line">        newusers()</span><br><span class="line">    else:</span><br><span class="line">        psw = input(&apos;enter your password: &apos;)</span><br><span class="line">        userdict[name] = psw</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def oldusers():</span><br><span class="line">    uinfo = input(&apos;enter your name and password: &apos;)</span><br><span class="line">    print(uinfo)</span><br><span class="line">    user=uinfo.split(&apos;,&apos;)</span><br><span class="line">    name,password=user</span><br><span class="line">    print(name,password)</span><br><span class="line">    if password in userdict.values():</span><br><span class="line">        print(name, &apos;welcome back &apos;)</span><br><span class="line">    else:</span><br><span class="line">        print(&apos;login incorrect&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def login():</span><br><span class="line">    option = input(&apos;enter a option(N or O or E): &apos;)</span><br><span class="line">    if option == &apos;N&apos;:</span><br><span class="line">        newusers()</span><br><span class="line">    if option == &apos;O&apos;:</span><br><span class="line">        oldusers()</span><br><span class="line">    if option == &apos;E&apos;:</span><br><span class="line">        exit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    login()</span><br><span class="line">    print(userdict)</span><br></pre></td></tr></table></figure><a id="more"></a><p>题二：统计词频：输入一个长句子，句子只含,|.|?|”|’这几种标点，统计每个单词出现的频率。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"></span><br><span class="line">with open(&apos;sentense.txt&apos;, &apos;r+&apos;) as f:</span><br><span class="line">    txt = f.read()</span><br><span class="line">    txt = txt.lower()</span><br><span class="line">pattern = re.compile(&quot;\,|\.|\&quot;|\&apos;|\!&quot;)</span><br><span class="line">sentense = re.sub(pattern, &apos; &apos;, txt)</span><br><span class="line"># print(sentense)</span><br><span class="line">words = sentense.split(&apos; &apos;)</span><br><span class="line">##清洗words,去掉&apos;&apos;,</span><br><span class="line">clswords = []</span><br><span class="line"># print(words)</span><br><span class="line">for word in words:</span><br><span class="line">    if word == &apos;&apos;:</span><br><span class="line">        continue</span><br><span class="line">    else:</span><br><span class="line">        clswords.append(word)</span><br><span class="line">setwords = set(clswords)</span><br><span class="line">listwords = list(setwords)</span><br><span class="line">wordfreq = [0] * len(listwords)</span><br><span class="line">for i in range(len(listwords)):</span><br><span class="line">    wordfreq[i] = clswords.count(listwords[i])</span><br><span class="line">worddiction = dict(zip(listwords, wordfreq))</span><br><span class="line">print(worddiction, len(worddiction))</span><br><span class="line">print(sum(worddiction.values()))</span><br></pre></td></tr></table></figure><p>sentence.txt:hi,boy. Don’t worry,have good night ! tomorrow must be a sunny day. “emmm….”,sounds like pretty. ok, I will go to bed. “see you tomorrow,have a good night”.a,a,a,a,a,a,a,a,a.</p><p>题三：给定一个整数数组 nums 和一个目标值 target，<br>请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标<br>若存在，只要返回一组，且其中一个数字尽量小。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">def townum_sum(n,lst):</span><br><span class="line">    d=&#123;&#125;</span><br><span class="line">    for i in range(len(lst)):</span><br><span class="line">        d[lst[i]]=i</span><br><span class="line">    for i in range(len(lst)):</span><br><span class="line">        if n-lst[i] in d.keys():</span><br><span class="line">            return i,d[n-lst[i]]</span><br><span class="line">    return -1</span><br><span class="line"></span><br><span class="line">if __name__== &apos;__main__&apos;:</span><br><span class="line">    target=int(input(&apos;enter a num: &apos;))</span><br><span class="line">    nums=[1,4,5,6,7,8,9,10,11,12,13,15,18,19,20,21,29,34,54,65]</span><br><span class="line">    result=townum_sum(target,nums)</span><br><span class="line">    if result == -1:</span><br><span class="line">        print(&apos;not find&apos;)</span><br><span class="line">    else:</span><br><span class="line">        print(result)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;题一：用字典创建一个平台的用户信息（包含用户名和密码）管理系统，新用户可以用与现有系统帐号不冲突的用户名创建帐号，已存在的老用户则可以用用户名和密码登陆重返系统。&lt;/p&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;userdict = &amp;#123;&amp;apos;chendong&amp;apos;: &amp;apos;1234&amp;apos;, &amp;apos;chenjuan&amp;apos;: &amp;apos;5678&amp;apos;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def newusers():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name = input(&amp;apos;enter your name: &amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if name in userdict.keys():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        newusers()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        psw = input(&amp;apos;enter your password: &amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        userdict[name] = psw&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def oldusers():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    uinfo = input(&amp;apos;enter your name and password: &amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(uinfo)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    user=uinfo.split(&amp;apos;,&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name,password=user&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(name,password)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if password in userdict.values():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(name, &amp;apos;welcome back &amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(&amp;apos;login incorrect&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def login():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    option = input(&amp;apos;enter a option(N or O or E): &amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if option == &amp;apos;N&amp;apos;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        newusers()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if option == &amp;apos;O&amp;apos;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        oldusers()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if option == &amp;apos;E&amp;apos;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        exit()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if __name__ == &amp;apos;__main__&amp;apos;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    login()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(userdict)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="编程语言" scheme="https://ahpuchend.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="nju&lt;&lt;用python玩转数据&gt;&gt;" scheme="https://ahpuchend.github.io/tags/nju-%E7%94%A8python%E7%8E%A9%E8%BD%AC%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>第三周-数据表示与获取基础编程作业</title>
    <link href="https://ahpuchend.github.io/2019/09/26/%E7%AC%AC%E4%B8%89%E5%91%A8-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E4%B8%8E%E8%8E%B7%E5%8F%96%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E4%BD%9C%E4%B8%9A/"/>
    <id>https://ahpuchend.github.io/2019/09/26/第三周-数据表示与获取基础编程作业/</id>
    <published>2019-09-26T14:36:47.000Z</published>
    <updated>2019-09-26T14:41:04.588Z</updated>
    
    <content type="html"><![CDATA[<p>MOOC链接  <a href="https://www.icourse163.org/course/NJU-1001571005?tid=1206020206" target="_blank" rel="noopener">用python玩转数据</a></p><p>题一:从键盘输入整数n（1-9之间），对于1-100之间的整数删除包含n并且能被n整除的数，<br>例如如果n为6，则要删掉包含6的如6，16这样的数及是6的倍数的如12和18这样的数，<br>输出所有满足条件的数，要求每满10个数换行。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">def Me():</span><br><span class="line">    num=int(input(&apos;enter a num (1-100):&apos;))</span><br><span class="line">    strnum=str(num)</span><br><span class="line">    j=1</span><br><span class="line">    for i in range(1,101):</span><br><span class="line">        if strnum in str(i):</span><br><span class="line">            continue</span><br><span class="line">        if i%num == 0:</span><br><span class="line">            continue</span><br><span class="line">        else:</span><br><span class="line">            if j%10==0:</span><br><span class="line">                print(i)</span><br><span class="line">                j=1</span><br><span class="line">            else:</span><br><span class="line">                print(i,end=&apos;,&apos;)</span><br><span class="line">                j+=1</span><br><span class="line"></span><br><span class="line">            # if j&lt;10:</span><br><span class="line">            #     print(i,end=&apos;,&apos;)</span><br><span class="line">            #     j+=1</span><br><span class="line">            # else:</span><br><span class="line">            #     print(i)</span><br><span class="line">            #     j=1</span><br><span class="line"></span><br><span class="line">#比Teach()多一个字符</span><br><span class="line"></span><br><span class="line">def Teach():</span><br><span class="line">    n = int(input(&quot;Enter the number: &quot;))</span><br><span class="line">    count = 0</span><br><span class="line">    new_str = &apos;&apos;</span><br><span class="line">    print(&quot;The result string: &quot;)</span><br><span class="line">    for i in range(101):</span><br><span class="line">        s = str(i)</span><br><span class="line">        if i % n != 0 and s.find(str(n)) == -1:</span><br><span class="line">            new_str = new_str + s + &apos;,&apos;</span><br><span class="line">            count += 1</span><br><span class="line">            if count % 10 == 0:</span><br><span class="line">                print(new_str[:-1])</span><br><span class="line">                new_str = &apos;&apos;</span><br><span class="line">    if len(new_str) &gt; 0:</span><br><span class="line">        print(new_str[:-1])</span><br></pre></td></tr></table></figure><p>题二:请用随机函数产生500行1-100之间的随机整数存入文件random.txt中，<br>编程寻找这些整数的众数并输出，众数即为一组数中出现最多的数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import random,time</span><br><span class="line">def modeNum():</span><br><span class="line">    with open(&apos;random.txt&apos;,&apos;w+&apos;,encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">        # num = []</span><br><span class="line">        for i in range(500):</span><br><span class="line">            num=random.randint(1,100)</span><br><span class="line">            f.write(str(num)+&apos;\n&apos;)</span><br><span class="line">        # f.seek(0)</span><br><span class="line">        # text=f.read()</span><br><span class="line">        # lists=text.split(&apos;\n&apos;)</span><br><span class="line">        # print(lists[:-1]) ##变成列表</span><br><span class="line">        f.seek(0)</span><br><span class="line">        nums=f.readlines()</span><br><span class="line">        nums=[int(num.strip()) for num in nums]</span><br><span class="line">        setNums=set(nums)</span><br><span class="line">        lst = [0] * 101</span><br><span class="line">        for num in setNums:</span><br><span class="line">            c = nums.count(num)</span><br><span class="line">            lst[int(num)] = c</span><br><span class="line"></span><br><span class="line">        # 法一找众数和出现次数</span><br><span class="line">        index = lst.index(max(lst))</span><br><span class="line">        print(index, max(lst))</span><br><span class="line"></span><br><span class="line">        #法二找众数和出现次数</span><br><span class="line">        # for i in range(len(lst)):</span><br><span class="line">        #     if lst[i] == max(lst):</span><br><span class="line">        #         print(i,max(lst))</span><br><span class="line"></span><br><span class="line">        # 法三找众数和出现次数</span><br><span class="line">        # lst1=[0]*101</span><br><span class="line">        # for i in nums:</span><br><span class="line">        #     lst1[int(i)]+=1</span><br><span class="line">        # index=lst1.index(max(lst1))</span><br><span class="line">        # print(index,max(lst1))</span><br><span class="line"></span><br><span class="line"># modeNum()</span><br></pre></td></tr></table></figure><p>题三:文件article.txt中存放了一篇英文文章（请自行创建并添加测试文本），<br>假设文章中的标点符号仅包括“,”、“.”、“!”、“?”和“…”，<br>编程找出其中最长的单词并输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">with open(&apos;article.txt&apos;,&apos;r+&apos;) as fp:</span><br><span class="line">    text=fp.readlines()</span><br><span class="line">    text=[str.strip() for str in text]</span><br><span class="line">    print(text)</span><br><span class="line">    list=&apos; &apos;.join(text)</span><br><span class="line">    print(list)</span><br><span class="line">    pattern=re.compile(&apos;\,|\.|\?|\!&apos;)</span><br><span class="line">    lists=re.sub(pattern,&apos; &apos;,list)</span><br><span class="line">    print(lists,type(lists))</span><br><span class="line">    words=lists.split(&apos; &apos;)</span><br><span class="line">    print(words)</span><br><span class="line">    maxlen=len(words[0])</span><br><span class="line">    for i,w in enumerate(words):</span><br><span class="line">        if len(w)&gt;maxlen:</span><br><span class="line">            maxlen=len(w)</span><br><span class="line">            index=i</span><br><span class="line">    print(index,words[index],maxlen)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MOOC链接  &lt;a href=&quot;https://www.icourse163.org/course/NJU-1001571005?tid=1206020206&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;用python玩转数据&lt;/a&gt;&lt;/p&gt;&lt;p&gt;题一:从键盘输入整数n（1-9之间），对于1-100之间的整数删除包含n并且能被n整除的数，&lt;br&gt;例如如果n为6，则要删掉包含6的如6，16这样的数及是6的倍数的如12和18这样的数，&lt;br&gt;输出所有满足条件的数，要求每满10个数换行。&lt;/p&gt;
    
    </summary>
    
    
      <category term="编程语言" scheme="https://ahpuchend.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="nju&lt;&lt;用python玩转数据&gt;&gt;" scheme="https://ahpuchend.github.io/tags/nju-%E7%94%A8python%E7%8E%A9%E8%BD%AC%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>寻找众数</title>
    <link href="https://ahpuchend.github.io/2019/09/25/%E5%AF%BB%E6%89%BE%E4%BC%97%E6%95%B0/"/>
    <id>https://ahpuchend.github.io/2019/09/25/寻找众数/</id>
    <published>2019-09-25T13:23:08.000Z</published>
    <updated>2019-09-26T09:36:00.567Z</updated>
    
    <content type="html"><![CDATA[<p>题目：给定一个序列，寻找序列中出现最多的数字，我们称这样的数字为该序列的“众数” 如[2,3,1,1,1]序列的众数为1</p><p><b> 法一：一般方法 时间 O(nlog(n)) 空间为不重复的数字数，建立一个二叉排序树，做统计。</b></p><p><b>法二：时空 O(n)方法:只适合在确定数字的范围时，且范围较小，可以开同样大的数组，遍历一边，一边遍历一边做统计</b></p><a id="more"></a><h1 id="法一code："><a href="#法一code：" class="headerlink" title="法一code："></a>法一code：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">a = [6, 1, 8, 7, 9, 4, 4, 4, 6, 7,7,6,7,7,7]</span><br><span class="line"></span><br><span class="line">class Node:</span><br><span class="line">    def __init__(self, data):</span><br><span class="line">        self.count = 1</span><br><span class="line">        self.data = data</span><br><span class="line">        self.lchild = None</span><br><span class="line">        self.rchild = None</span><br><span class="line"></span><br><span class="line">def search(header, node):</span><br><span class="line"></span><br><span class="line">    if not header:</span><br><span class="line">        header=node</span><br><span class="line">        return header</span><br><span class="line">    if node.data == header.data:</span><br><span class="line">        header.count += 1</span><br><span class="line">    if node.data &lt; header.data:</span><br><span class="line">        lnode=search(header.lchild, node)</span><br><span class="line">        header.lchild=lnode</span><br><span class="line">    if node.data &gt; header.data:</span><br><span class="line">        rnode=search(header.rchild, node)</span><br><span class="line">        header.rchild=rnode</span><br><span class="line">    return header</span><br><span class="line"># 建立二叉排序树</span><br><span class="line">def creatTree():</span><br><span class="line">    header = Node(a[0])</span><br><span class="line">    for i in a[1:]:</span><br><span class="line">        node = Node(i)</span><br><span class="line">        root=search(header, node)</span><br><span class="line">    return header</span><br><span class="line"></span><br><span class="line">lists=[]</span><br><span class="line"># 遍历二叉树,求众数</span><br><span class="line">def getModenum(header):</span><br><span class="line">    if header:</span><br><span class="line">        dict = &#123;&apos;data&apos;:0, &apos;count&apos;:1&#125;</span><br><span class="line">        dict[&apos;data&apos;]=header.data</span><br><span class="line">        dict[&apos;count&apos;]=header.count</span><br><span class="line">        lists.append(dict)</span><br><span class="line">        getModenum(header.lchild)</span><br><span class="line">        getModenum(header.rchild)</span><br><span class="line">    return lists</span><br><span class="line"></span><br><span class="line">if __name__==&apos;__main__&apos;:</span><br><span class="line">    header=creatTree()</span><br><span class="line">    lis=getModenum(header)</span><br><span class="line">    modenum = lis[0]</span><br><span class="line">    for li in lis:</span><br><span class="line">        if(li[&apos;count&apos;]&gt;modenum[&apos;count&apos;]):</span><br><span class="line">            modenum=li</span><br><span class="line">    print(&apos;modenum is:&apos;)</span><br><span class="line">    print(modenum,modenum[&apos;data&apos;],modenum[&apos;count&apos;])</span><br></pre></td></tr></table></figure><h1 id="法二code"><a href="#法二code" class="headerlink" title="法二code:"></a>法二code:</h1><p><b>假设数字的范围为1-10，我们先开大小9的数组，然后顺序遍历一次，统计数字个数。</b></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">a = [6, 1, 8, 7, 9, 4, 4, 4, 6, 7,7,6,7,7,7]</span><br><span class="line">class Array:</span><br><span class="line">    def __init__(self,i):</span><br><span class="line">        self.index=i</span><br><span class="line">        self.count=0</span><br><span class="line">#开了大小9个“数组”</span><br><span class="line">def buildMap():</span><br><span class="line">    arrays=[Array(i+1) for i in range(0,10)]</span><br><span class="line">    print(arrays)</span><br><span class="line">    for i in a:</span><br><span class="line">        # print(i)</span><br><span class="line">        arrays[i-1].count+=1</span><br><span class="line">    return arrays</span><br><span class="line"></span><br><span class="line">def getModenum(arrays):</span><br><span class="line">    modenum=arrays[0]</span><br><span class="line">    for arr in arrays:</span><br><span class="line">        print(arr.index,arr.count)</span><br><span class="line">        if arr.count&gt;modenum.count:</span><br><span class="line">            modenum=arr</span><br><span class="line">    print(modenum.index,modenum.count)</span><br><span class="line"></span><br><span class="line">if __name__==&apos;__main__&apos;:</span><br><span class="line">    As=buildMap()</span><br><span class="line">    getModenum(As)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;题目：给定一个序列，寻找序列中出现最多的数字，我们称这样的数字为该序列的“众数” 如[2,3,1,1,1]序列的众数为1&lt;/p&gt;&lt;p&gt;&lt;b&gt; 法一：一般方法 时间 O(nlog(n)) 空间为不重复的数字数，建立一个二叉排序树，做统计。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;法二：时空 O(n)方法:只适合在确定数字的范围时，且范围较小，可以开同样大的数组，遍历一边，一边遍历一边做统计&lt;/b&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="algorithm" scheme="https://ahpuchend.github.io/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>第三周-python爬虫小项目作业</title>
    <link href="https://ahpuchend.github.io/2019/09/25/%E7%AC%AC%E4%B8%89%E5%91%A8-%E7%88%AC%E8%99%AB%E7%88%AC%E8%99%AB%E5%B0%8F%E9%A1%B9%E7%9B%AE%E4%BD%9C%E4%B8%9A/"/>
    <id>https://ahpuchend.github.io/2019/09/25/第三周-爬虫爬虫小项目作业/</id>
    <published>2019-09-25T12:37:26.000Z</published>
    <updated>2019-09-26T09:36:47.873Z</updated>
    
    <content type="html"><![CDATA[<p>这个是南京大学MOOC &lt;用python玩转数据&gt;的第三周python小项目作业题<br><a href="https://www.icourse163.org/course/NJU-1001571005?tid=1206020206" target="_blank" rel="noopener">用python玩转数据</a></p><h1 id="作业一："><a href="#作业一：" class="headerlink" title="作业一："></a>作业一：</h1><p>题目：爬取豆瓣的随便一本书的前50热评，并计算所用评分的平均值（注意：有的评论下无评分）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import requests,re,os,time</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">def crawler():</span><br><span class="line">    html = []</span><br><span class="line">    url=&quot;https://book.douban.com/subject/2567698/comments/hot?p=&quot;</span><br><span class="line">    for i in range(3):</span><br><span class="line">        re=requests.get(url+str(i+1))</span><br><span class="line">        html.append(re.text)</span><br><span class="line">        time.sleep(5)</span><br><span class="line">    html=&apos; &apos;.join(html)</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line">def parse(html):</span><br><span class="line">    comments=[]</span><br><span class="line">    grades=[]</span><br><span class="line">    soup=BeautifulSoup(html,&apos;lxml&apos;)</span><br><span class="line">    commenttags=soup.select(&quot;.short&quot;)</span><br><span class="line">    for comment in commenttags:</span><br><span class="line">        comments.append(comment.string)</span><br><span class="line">    starttags=soup.select(&quot;.user-stars&quot;)</span><br><span class="line">    for start in starttags:</span><br><span class="line">        #提取评分</span><br><span class="line">        grade=int(&apos; &apos;.join(start[&apos;class&apos;]).split(&apos; &apos;)[1][7:])</span><br><span class="line">        grades.append(grade)</span><br><span class="line">    mean=sum(grades)/len(grades)</span><br><span class="line">    return comments,mean</span><br><span class="line"></span><br><span class="line">if __name__==&quot;__main__&quot;:</span><br><span class="line">    html=crawler()</span><br><span class="line">    allcomments,mean=parse(html)</span><br><span class="line">    print(mean)</span><br><span class="line">    for comment in allcomments:</span><br><span class="line">        print(comment)</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="作业二："><a href="#作业二：" class="headerlink" title="作业二："></a>作业二：</h1><p>题目：在 “<a href="http://money.cnn.com/data/dow30/”" target="_blank" rel="noopener">http://money.cnn.com/data/dow30/”</a> 上抓取道指成分股数据并将30家公司的代码、公司名称和最近一次成交价放到一个列表中输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">def retrieve_dji_list():</span><br><span class="line">    r = requests.get(&apos;http://money.cnn.com/data/dow30/&apos;)</span><br><span class="line">    # put the re expression on one line and pay attention to the &apos;\n&apos;</span><br><span class="line">    search_pattern = re.compile(&apos;class=&quot;wsod_symbol&quot;&gt;(.*?)&lt;\/a&gt;.*?&lt;span.*?&quot;&gt;(.*?)&lt;\/span&gt;.*?\n.*?class=&quot;wsod_stream&quot;&gt;(.*?)&lt;\/span&gt;&apos;)</span><br><span class="line">    dji_list_in_text = re.findall(search_pattern, r.text)</span><br><span class="line">    return dji_list_in_text</span><br><span class="line">dji_list = retrieve_dji_list()</span><br><span class="line">print(dji_list)</span><br></pre></td></tr></table></figure><p>Note:这个代码时老师给的参考答案</p><h1 id="作业三"><a href="#作业三" class="headerlink" title="作业三:"></a>作业三:</h1><p>请爬取网页（ <a href="http://www.volleyball.world/en/vnl/2018/women/results-and-ranking/round1" target="_blank" rel="noopener">http://www.volleyball.world/en/vnl/2018/women/results-and-ranking/round1</a> ）上的数据（包括TEAMS and TOTAL, WON, LOST of MATCHES）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import requests,re</span><br><span class="line">def crawler(url):</span><br><span class="line">    r=requests.get(url)</span><br><span class="line">    pattern=re.compile(&apos;href=&quot;/en/vnl/2018/women/teams/.*?&gt;(.*?)&lt;\/a&gt;\s*&lt;/figcaption&gt;\s*&lt;/figure&gt;\s*&lt;\/td&gt;\s*.*?(\d+)&lt;\/td&gt;\s*.*?(\d+)&lt;\/td&gt;\s*.*?(\d+)&lt;\/td&gt;&apos;)</span><br><span class="line">    lis=re.findall(pattern,r.text)</span><br><span class="line">    return lis</span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    url=&quot;http://www.volleyball.world/en/vnl/2018/women/results-and-ranking/round1&quot;</span><br><span class="line">    lis=crawler(url)</span><br><span class="line">    print(lis,len(lis))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这个是南京大学MOOC &amp;lt;用python玩转数据&amp;gt;的第三周python小项目作业题&lt;br&gt;&lt;a href=&quot;https://www.icourse163.org/course/NJU-1001571005?tid=1206020206&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;用python玩转数据&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;作业一：&quot;&gt;&lt;a href=&quot;#作业一：&quot; class=&quot;headerlink&quot; title=&quot;作业一：&quot;&gt;&lt;/a&gt;作业一：&lt;/h1&gt;&lt;p&gt;题目：爬取豆瓣的随便一本书的前50热评，并计算所用评分的平均值（注意：有的评论下无评分）&lt;/p&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;import requests,re,os,time&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from bs4 import BeautifulSoup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def crawler():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    html = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    url=&amp;quot;https://book.douban.com/subject/2567698/comments/hot?p=&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for i in range(3):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        re=requests.get(url+str(i+1))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        html.append(re.text)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        time.sleep(5)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    html=&amp;apos; &amp;apos;.join(html)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return html&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def parse(html):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    comments=[]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    grades=[]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    soup=BeautifulSoup(html,&amp;apos;lxml&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    commenttags=soup.select(&amp;quot;.short&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for comment in commenttags:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        comments.append(comment.string)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    starttags=soup.select(&amp;quot;.user-stars&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for start in starttags:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        #提取评分&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        grade=int(&amp;apos; &amp;apos;.join(start[&amp;apos;class&amp;apos;]).split(&amp;apos; &amp;apos;)[1][7:])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        grades.append(grade)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mean=sum(grades)/len(grades)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return comments,mean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if __name__==&amp;quot;__main__&amp;quot;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    html=crawler()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    allcomments,mean=parse(html)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(mean)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for comment in allcomments:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(comment)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="编程语言" scheme="https://ahpuchend.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="nju用python玩转数据作业" scheme="https://ahpuchend.github.io/tags/nju%E7%94%A8python%E7%8E%A9%E8%BD%AC%E6%95%B0%E6%8D%AE%E4%BD%9C%E4%B8%9A/"/>
    
  </entry>
  
  <entry>
    <title>introduction to technical writing</title>
    <link href="https://ahpuchend.github.io/2019/09/24/introduction-to-technical-writing/"/>
    <id>https://ahpuchend.github.io/2019/09/24/introduction-to-technical-writing/</id>
    <published>2019-09-24T11:48:49.000Z</published>
    <updated>2019-09-24T13:07:47.510Z</updated>
    
    <content type="html"><![CDATA[<p><b>Think about the many types of writing you do,for example,writing for school,to family and friends,or on your job?what kind of writing would you consider to be technical writing? How would you define technical writing? Hello!I‘m chen meihua from Southeast University.In this section,I will provide you with an overview of technical writing and will focus on its definetion,main featutes and purposes.</b></p><a id="more"></a><h1 id="Defintion-what-is-technical-writing"><a href="#Defintion-what-is-technical-writing" class="headerlink" title="Defintion:what is technical writing?"></a>Defintion:what is technical writing?</h1><p><b>Technical writing is a form of written document providing technical information that helps readers to solve complex problems.</b></p><p>Then you may ask how will technical information be relevent to me since I am not a technician?</p><p>Actually almost every day,We make decision or take actions that depend on technical information.When we install or operate any new device,from a washing machine to a new laptop.it’s the setup information that we look for.Then how can you become a good technical writer?In the following lessons,we will discuss instruction,reports,memos,procedures,etc.And although there are various forms of technical writing,almost any form of technical deocuments shares cetain common features.</p><p><img src="/2019/09/24/introduction-to-technical-writing/sample.png" alt="the sample picture"></p><h1 id="Features-how-many-features-have-the-technical-writing"><a href="#Features-how-many-features-have-the-technical-writing" class="headerlink" title="Features:how many features have the technical writing?"></a>Features:how many features have the technical writing?</h1><p>Let’s look at the following technical document.This documents is written and designed to guide readers to use a programmable thermostat properly.</p><p>Being reader-centered is the <b>first</b> main feature for technical writing.The documents focus on what people need to learn,do,or decide.Here all the information is presented to help readers to choose the right thermostat,and nothing else.</p><p>The <b>second</b> feature of technical writing is clear organization and page design.In this sample,right after the title,these is an overview to introduce the main poins of the document.The heading here is phrased as the main question reader will ask.In the following parts,paragraphs and sentences are listed using color to highlight key items.At the end,a table is used to make it easy to read the comparative data.As for page design,we can see the headings,lists,type styles,white space work tegether to provide easy information navigation.</p><p><b>Thrid</b>,readable style and effective visuals.And in this sample,a clear table with easy-to-read data is provided as a subsititute for words describing the data,so that a nontechnical audience can read,compare and choose the right thermostat.This is an effective visual.</p><h1 id="Purposes-what-is-technical-writing-for"><a href="#Purposes-what-is-technical-writing-for" class="headerlink" title="Purposes:what is technical writing for?"></a>Purposes:what is technical writing for?</h1><p>Most forms of technical writing address one of three primary purposes:to anticipate and answer questions,that is,<b>to inform your readers</b>;to enable people to perform a task or follow a procedure,that is,<b>to instruct your readers</b>,or to influence people’s thinking,that is,<b>to persuade your readers</b>.</p><p>often,these purposes will overlap.Now we will analyze the sample document from these three purposes respectively.</p><h2 id="Documents-that-inform"><a href="#Documents-that-inform" class="headerlink" title="Documents that inform:"></a>Documents that inform:</h2><p>The sample technical writing you read just now is primarily informational.It’s designed for a wide audience of readers who may be asking the question which thermostat is most suitalbe but know little about the technical details.</p><h2 id="Documents-that-instruct"><a href="#Documents-that-instruct" class="headerlink" title="Documents that instruct:"></a>Documents that instruct:</h2><p>Instructional documents help people do something.Action verbs and phrases,such as “think about” and “decide” are clear and direct.There different models,”7-day models”,”5+2-day models” and “5-1-1 models” are listed for readers to choose the right thermostat.</p><h2 id="Documents-that-persuade"><a href="#Documents-that-persuade" class="headerlink" title="Documents that persuade:"></a>Documents that persuade:</h2><p>Persuasion encourages people to take a desired action,or to make a decision.Let’s read the sample document again.The first paragraph,for example, encourages readers to use a programmable thermostat by pointing out how much people coule save in yearly energy bills.Nothing is more persuasive than data.</p><p><b>Ok,so far we have talked about what technical writing is,its main features and its primary purpose.Have you got it? That’s all for this lesson,thanks you.</b></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;b&gt;Think about the many types of writing you do,for example,writing for school,to family and friends,or on your job?what kind of writing would you consider to be technical writing? How would you define technical writing? Hello!I‘m chen meihua from Southeast University.In this section,I will provide you with an overview of technical writing and will focus on its definetion,main featutes and purposes.&lt;/b&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="English" scheme="https://ahpuchend.github.io/categories/English/"/>
    
    
      <category term="Technical writing" scheme="https://ahpuchend.github.io/tags/Technical-writing/"/>
    
  </entry>
  
  <entry>
    <title>豆瓣小王子书评词云制作</title>
    <link href="https://ahpuchend.github.io/2019/09/23/%E8%B1%86%E7%93%A3%E5%B0%8F%E7%8E%8B%E5%AD%90%E4%B9%A6%E8%AF%84%E8%AF%8D%E4%BA%91%E5%88%B6%E4%BD%9C/"/>
    <id>https://ahpuchend.github.io/2019/09/23/豆瓣小王子书评词云制作/</id>
    <published>2019-09-23T13:03:46.000Z</published>
    <updated>2019-09-26T09:36:27.078Z</updated>
    
    <content type="html"><![CDATA[<p>主要的想法就是先用request.get()方法获取一些url，得到url的html后再用beautifulsoup解析这些网页，获取用户的id,name,href,commnet这四个属性,然后在用户的这些属性存入数据库，又添加了一些无聊的数据库的增删改查功能,接着从数据库取出所有的评论，一边取一边用正则清洗一些无用的评论，然后直接用列表存一下清洗后的评论（反正数据比较少），然后用jieba库来中文分词，最后用wordcloude库生成词云。ui可以自定义，我做得超丑（主要觉得没意思[摊手]）<br>重要的是：python刚学，代码写得特别垃圾，代码写得特别垃圾，代码写得特别垃圾，内存列表都是随便开的。逃~。以后会重构的。</p><a id="more"></a><p><img src="/2019/09/23/豆瓣小王子书评词云制作/littleprincewordcloud.png" alt="图片词云"></p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import os</span><br><span class="line">import pymysql as Db</span><br><span class="line">import jieba</span><br><span class="line">import re</span><br><span class="line">from wordcloud import WordCloud</span><br><span class="line">import matplotlib.pyplot as plt</span><br></pre></td></tr></table></figure> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#全局变量，存放所有用户信息</span><br><span class="line">UsersPages=[]</span><br><span class="line">class User:</span><br><span class="line">    def __init__(self, id, name=&apos;&apos;, href=&apos;&apos;, comment=&apos;&apos;):</span><br><span class="line">        self.userid=id</span><br><span class="line">        self.username=name</span><br><span class="line">        self.userhref=href</span><br><span class="line">        self.usercomment=comment</span><br><span class="line">    def getusername(self):</span><br><span class="line">        return self.username</span><br><span class="line">    def getusercomment(self):</span><br><span class="line">            return self.usercomment</span><br><span class="line">    def getuserid(self):</span><br><span class="line">        return self.userid</span><br><span class="line">    def getuserhref(self):</span><br><span class="line">        return self.userhref</span><br></pre></td></tr></table></figure> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">def parse(htmluser):</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    解析器</span><br><span class="line">    解析每一个用户的信息</span><br><span class="line">    :param htmluser:</span><br><span class="line">    :return:</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    usersoup = BeautifulSoup(htmluser, &apos;lxml&apos;)</span><br><span class="line">    userid = usersoup.find(&apos;li&apos;, class_=&apos;comment-item&apos;)[&apos;data-cid&apos;]</span><br><span class="line">    userinfo = usersoup.find(&apos;div&apos;, class_=&apos;avatar&apos;).a</span><br><span class="line">    username = userinfo[&apos;title&apos;]</span><br><span class="line">    userhref = userinfo[&apos;href&apos;]</span><br><span class="line">    usercommet = usersoup.select(&apos;.short&apos;)[0].string</span><br><span class="line">    # print(userid, username, userhref, usercommet)</span><br><span class="line">    return User(userid, username, userhref, usercommet)</span><br><span class="line"> ``` </span><br><span class="line">```   </span><br><span class="line">def webCrawler():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    #爬取小王子所有的评论网页信息,先存入本地.txt文件,在对文件做处理</span><br><span class="line">    :return:</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    #这里range的范围可以根据网页设置</span><br><span class="line">    for i in range(608,620):</span><br><span class="line">        url=&apos;https://book.douban.com/subject/1084336/comments/hot?p=&apos;+str(i)</span><br><span class="line">        re=requests.get(url)</span><br><span class="line">        #re=requests.get(url,headers=random.choice(headers),proxies=random.choice(proxies)) # p4643</span><br><span class="line">        # print(headers)</span><br><span class="line">        # print(proxies)</span><br><span class="line">        print(re.status_code)</span><br><span class="line">        try:</span><br><span class="line">            nedpath = &apos;C:\\Users\\chend\\PycharmProjects\\nju\\collection\\&apos;</span><br><span class="line">            os.chdir(nedpath)</span><br><span class="line">            # print(nedpath)</span><br><span class="line">        except Exception as err:</span><br><span class="line">            print(err)</span><br><span class="line">        with open(&apos;littlePrince&apos;+str(i)+&apos;.txt&apos;, &apos;w&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">            text=re.text</span><br><span class="line">            f.writelines(text)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">def localAnalysis():</span><br><span class="line">    #对webCrawler模块爬到的数据做本地分析</span><br><span class="line">    for i in range(608,620):</span><br><span class="line">        Users = []</span><br><span class="line">        try:</span><br><span class="line">            nedpath = &apos;C:\\Users\\chend\\PycharmProjects\\nju\\collection\\&apos;</span><br><span class="line">            os.chdir(nedpath)</span><br><span class="line">        except Exception as err:</span><br><span class="line">            print(err)</span><br><span class="line">        with open(&apos;littlePrince&apos;+str(i)+&apos;.txt&apos;, &apos;r+&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">            content=f.read()</span><br><span class="line">            soup=BeautifulSoup(content,&apos;lxml&apos;)</span><br><span class="line">            userinfo=soup.find_all(&apos;li&apos;, class_=&apos;comment-item&apos;)</span><br><span class="line">            for htmluser in userinfo:</span><br><span class="line">                htmluser=str(htmluser)</span><br><span class="line">                user=parse(htmluser)</span><br><span class="line">                Users.append(user)</span><br><span class="line">            UsersPages.append(Users)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def storeDB(UsersPages):</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    存入mysql数据库</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    connection = Db.connect(host=&apos;localhost&apos;, user=&apos;root&apos;, password=&apos;cd7089028&apos;, db=&apos;littleprince&apos;)</span><br><span class="line">    for userpage in UsersPages:</span><br><span class="line">        for user in userpage:</span><br><span class="line">            userid=str(user.userid).strip()</span><br><span class="line">            username=str(user.getusername()).strip()</span><br><span class="line">            userhref=str(user.getuserhref()).strip()</span><br><span class="line">            usercomment=str(user.getusercomment()).strip()</span><br><span class="line">            print(userid, username, userhref, usercomment)</span><br><span class="line">            try:</span><br><span class="line">                with connection.cursor() as cursor:</span><br><span class="line">                    sql = &quot;insert into user values (%s,%s,%s,%s) &quot;</span><br><span class="line">                    cursor.execute(sql, (userid, username, userhref, usercomment,))</span><br><span class="line">                connection.commit()</span><br><span class="line">            except Exception as err:</span><br><span class="line">                print(err)</span><br><span class="line">    connection.close()</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">def Opdatabase(mode,user):</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    数据库的增删改查</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    connection = Db.connect(host=&apos;localhost&apos;, user=&apos;root&apos;, password=&apos;********&apos;, db=&apos;littleprince&apos;)</span><br><span class="line"></span><br><span class="line">    #特定用户信息查找模式</span><br><span class="line">    if mode == &apos;select&apos;:</span><br><span class="line">            # Read a single record</span><br><span class="line">        with connection.cursor() as cursor:</span><br><span class="line">            sql = &quot;select * from user where userid=%s&quot;</span><br><span class="line">            cursor.execute(sql, (user.getuserid(),))</span><br><span class="line">            result = cursor.fetchall()</span><br><span class="line">            for row in result:</span><br><span class="line">                userid=str(row[0])</span><br><span class="line">                username=str(row[1])</span><br><span class="line">                userhref=str(row[2])</span><br><span class="line">                usercomment=str(row[3])</span><br><span class="line">                #print(userid, username, userhref,usercomment)</span><br><span class="line">            connection.close()</span><br><span class="line">            return  User(userid, username, userhref, usercomment)</span><br><span class="line">    #增加模式</span><br><span class="line">    if mode == &apos;insert&apos;:</span><br><span class="line">        with connection.cursor() as cursor:</span><br><span class="line">            sql = &quot;insert into user values(%s,%s,%s,%s)&quot;</span><br><span class="line">            userid = str(user.userid).strip()</span><br><span class="line">            username = str(user.getusername()).strip()</span><br><span class="line">            userhref = str(user.getuserhref()).strip()</span><br><span class="line">            usercomment = str(user.getusercomment()).strip()</span><br><span class="line">            print(userid, username, userhref,usercomment)</span><br><span class="line">            cursor.execute(sql,(userid, username, userhref, usercomment))</span><br><span class="line">            connection.commit()</span><br><span class="line">        connection.close()</span><br><span class="line">    #删除模式</span><br><span class="line">    if mode == &apos;delete&apos;:</span><br><span class="line">        with connection.cursor() as cursor:</span><br><span class="line">            sql = &quot;delete from user where userid=%s&quot;</span><br><span class="line">            userid=str(user.getuserid()).strip()</span><br><span class="line">            print(userid)</span><br><span class="line">            op=cursor.execute(sql, (userid))</span><br><span class="line">            connection.commit()</span><br><span class="line">            connection.close()</span><br><span class="line">            return op</span><br><span class="line">    #更新模式</span><br><span class="line">    if mode == &apos;update&apos;:</span><br><span class="line">        with connection.cursor() as cursor:</span><br><span class="line">            sql = &quot;update user set usercomment=%s where userid=%s&quot;</span><br><span class="line">            usercomment = str(input(&apos;update comment is:&apos;))</span><br><span class="line">            userid=str(user.getuserid()).strip()</span><br><span class="line">            op=cursor.execute(sql, (usercomment, userid))</span><br><span class="line">            connection.commit()</span><br><span class="line">            connection.close()</span><br><span class="line">            return op</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">def getAllComments():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    提取所有的评论存入文件comments.txt</span><br><span class="line">    :return:</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    #连接数据库</span><br><span class="line">    conn=Db.connect(host=&apos;localhost&apos;, user=&apos;root&apos;, password=&apos;cd7089028&apos;, db=&apos;littleprince&apos;)</span><br><span class="line">    #取所有用户评论</span><br><span class="line">    with conn.cursor() as cursor:</span><br><span class="line">        comments=[]</span><br><span class="line">        sql=&quot;select usercomment from user&quot;</span><br><span class="line">        try:</span><br><span class="line">            cursor.execute(sql)</span><br><span class="line">            results=cursor.fetchall()</span><br><span class="line">            for row in results:</span><br><span class="line">                #在这里需要用正则表达式对评论做一次清洗：</span><br><span class="line">                #只保留中英文评论和超过四个汉字的评论</span><br><span class="line">                pattern=re.compile(&apos;[\u4e00-\u9fa5_a-zA-Z0-9_\\s_,&apos;&apos;&quot;~:\-\._，：。‘’“”？！]&#123;4,150&#125;&apos;)</span><br><span class="line">                match=pattern.match(row[0])</span><br><span class="line">                if match:</span><br><span class="line">                    comments.append(row[0])</span><br><span class="line">                    # comments.append(&apos;\n&apos;)</span><br><span class="line">            path = &apos;C:\\Users\\chend\\PycharmProjects\\nju\\&apos;</span><br><span class="line">            os.chdir(path)</span><br><span class="line">            with open(&apos;comments.txt&apos;,&apos;w+&apos;,encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">                f.writelines(comments)</span><br><span class="line">                del comments</span><br><span class="line">        except Exception as err:</span><br><span class="line">            print(err)</span><br><span class="line">        finally:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def analysisWorld():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    分析高频的单词，制作词云</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    path=&apos;C:\\Users\\chend\\PycharmProjects\\nju\\&apos;</span><br><span class="line">    os.chdir(path)</span><br><span class="line">    with open(&apos;comments.txt&apos;, &apos;r+&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">        text=f.readlines()</span><br><span class="line">        segslist=[]</span><br><span class="line">        for sentense in text:</span><br><span class="line">            seq_list = jieba.cut(sentense, cut_all=True)</span><br><span class="line">            spliitsentense=&apos; &apos;.join(seq_list)</span><br><span class="line">            segslist.append(spliitsentense)</span><br><span class="line">    return segslist</span><br></pre></td></tr></table></figure><pre><code>def cloudWord(llstr):    &apos;&apos;&apos;    #词云图形展示    :return:    &apos;&apos;&apos;    path=&apos;C:\\Windows\\Fonts\\simkai.ttf&apos;    wordcloud = WordCloud(background_color=&quot;white&quot;,font_path=path,width=1000, height=860, margin=2).generate(llstr)    plt.imshow(wordcloud)    plt.axis(&quot;off&quot;)    plt.show()</code></pre><pre><code>#main函数主要做测试用def main():    # webCrawler()    # localAnalysis()    # storeDB(UsersPages)    # user=User(&apos;10287387&apos;)    # result=Opdatabase(&apos;select&apos;,user)    # print(result.getuserid(),result.getusername(), result.getuserhref(), result.getusercomment())    # print(&apos;----------------------------------------------------------------------&apos;)    # user1= User(&apos;220184863&apos;, &apos;Adminchendong&apos;, &apos;http://ahpuchend.github.io.com&apos;, &apos;hello world&apos;)    # Opdatabase(&apos;insert&apos;, user1)    # print(&apos;after insert&apos;)    # print(user1.getusercomment())    # result1 = Opdatabase(&apos;select&apos;, user1)    # print(result1.getuserid(), result1.getusername(), result1.getuserhref(), result1.getusercomment())    # r=Opdatabase(&apos;delete&apos;, User(&apos;220194863&apos;))    # print(r)    # user1 = User(&apos;1012070166&apos;)    # result1 = Opdatabase(&apos;select&apos;, user1)    # print(result1.getuserid(), result1.getusername(), result1.getuserhref(), result1.getusercomment())    # user2 = User(&apos;1012070166&apos;)    # op=Opdatabase(&apos;update&apos;,user2)    # print(op)    # analysisWorld()    getAllComments()    allcontent=analysisWorld()    txt=str(allcontent).strip()    cloudWord(txt)main()、、、</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;主要的想法就是先用request.get()方法获取一些url，得到url的html后再用beautifulsoup解析这些网页，获取用户的id,name,href,commnet这四个属性,然后在用户的这些属性存入数据库，又添加了一些无聊的数据库的增删改查功能,接着从数据库取出所有的评论，一边取一边用正则清洗一些无用的评论，然后直接用列表存一下清洗后的评论（反正数据比较少），然后用jieba库来中文分词，最后用wordcloude库生成词云。ui可以自定义，我做得超丑（主要觉得没意思[摊手]）&lt;br&gt;重要的是：python刚学，代码写得特别垃圾，代码写得特别垃圾，代码写得特别垃圾，内存列表都是随便开的。逃~。以后会重构的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="编程语言" scheme="https://ahpuchend.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="crawler" scheme="https://ahpuchend.github.io/tags/crawler/"/>
    
  </entry>
  
</feed>
